
# 南京大学的数字电路与计算机组成实验


数电组合逻辑设计: [NJU](https://nju-projectn.github.io/dlco-lecture-note/exp/01.html)


## 1. 多路选择器

选择开发板上的SW0和SW1作为控制端Y，SW2—SW9作为四个两位数据输入端X0–X3，将两位的输出端F接到发光二极管LEDR0和LEDR1上显示输出，完成设计，对自己的设计进行功能仿真，并下载到开发板上验证电路性能。

## 2. 译码器, 优先编码器

实现一个8-3编码器：

输入一个8位二进制数，对此8位二进制数进行高位优先编码成一个3位二进制值，并根据是否有输入增加一位输入指示位，即8个输入全0时指示位为0，有任何一个输入为1时指示位为1。编码器的使能端可选实现。将此编码结果及指示位以二进制形式显示在四个发光二极管LED上。再将此结果跟据七段数码管的显示进行译码，将二进制的优先编码结果以十进制的形式显示在数码管上。`enc`：

|    in    | out |
| :------: | :-: |
| 00000001 | 000 |
| 00000010 | 001 |
| 00000100 | 010 |
| 00001000 | 011 |
| 00010000 | 100 |
| 00100000 | 101 |
| 01000000 | 110 |
| 10000000 | 111 |
|   else   | 000 |


> 输入输出建议：
> 输入可以使用拨动开关SW7-SW0。使能端可以用SW8。输出为LED2-0，输出指示可以是LED4，数码管输出为HEX0。
> 
> 例：我们从SW7—SW0输入00001110，因为我们设计的是一个高位优先的优先编码器，从左（高位）开始，第一位为1的是第3号位，那么优先编码器的编码二进制结果就为011，将这个值显示在发光二极管上，并且指示位也同时置为1。再对这个数值跟据七段数码管的显示进行译码，此时应显示为 3 ，用HEX0显示，所以HEX0[6:0]应该译码为0110000（注意高低位顺序），那么在七段数码管上就会显示 3 这个字符。


## 3. 加法器ALU

设计一个能实现如下功能的4位带符号位的ALU：
- ALU进行加减运算时，需要能够判断结果是否为0，是否溢出，是否有进位等。
- 这里，输入的操作数A和B都已经是补码。
- 比较大小请按带符号数的方式设置。
- 执行逻辑操作时不需要考虑overflow和进位。

| sel | func |  operate |
| :-: | :--: | :------: |
| 000 | `+`  |  A  +  B |
| 001 | `-`  |  A  -  B |
| 010 | `~`  |     ~  A |
| 011 | `&`  |  A and B |
| 100 | `\|` |  A  or B |
| 101 | `^`  |  A xor B |
| 110 | `<`  |  A  <  B |
| 111 | `==` |  A  == B |

> 由于开发板上输入有限，可以使用SW作为数据输入，button作为选择端。


## 4. 移位寄存器及桶形移位器


利用8位移位寄存器来实现一个简单的随机数发生器。 经典的LFSR（线性反馈移位寄存器， Linear-feedback shift register ）可以使用n位移位寄存器生成长度为 $2^n -1$ 的二进制循环序列。 


## 5. 状态机及键盘输入

请设计一个区别两种特定时序的有限状态机FSM：该有限状态机有一个输入w和一个输出z。当w是4个连续的0或4个连续的1时，输出z=1，否则z=0，时序允许重叠。即：若w是连续的5个1时，则在第4个和第5个时钟之后，z均为1。图 Fig. 52 是这个有限状态机的时序图

建立一个Verilog文件，用SW0作为FSM低电平有效同步复位端，用SW1作为输入w，用KEY0作为手动的时钟输入，用LEDR0作为输出z，用LEDR4-LEDR7显示4个触发器的状态，完成该状态机的具体设计。


上板验收: 实现单个按键的ASCII码显示
s
七段数码管低两位显示当前按键的键码，中间两位显示对应的ASCII码（转换可以考虑自行设计一个ROM并初始化）。只需完成字符和数字键的输入，不需要实现组合键和小键盘。

当按键松开时，七段数码管的低四位全灭。

七段数码管的高两位显示按键的总次数。按住不放只算一次按键。只考虑顺序按下和放开的情况，不考虑同时按多个键的情况。

